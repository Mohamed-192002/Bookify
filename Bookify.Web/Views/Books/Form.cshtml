@model BookFormViewModel

@{
    ViewData["Title"] = "Book Form";
}

<div class="alert alert-dismissible bg-light-info border border-info border-3 border-dashed d-flex justify-content-between w-100 p-5 mb-10">
    <div class="d-flex align-items-center">
        <!--begin::Svg Icon | path: /var/www/preview.keenthemes.com/keenthemes/metronic/docs/core/html/src/media/icons/duotune/abstract/abs027.svg-->
        <span class="svg-icon svg-icon-primary svg-icon-2hx me-4">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 439.977"><path d="M47.969 439.893V245.409c-9.754 3.749-18.876 3.833-26.458 1.244-5.917-1.996-10.914-5.577-14.583-10.206-3.665-4.621-5.997-10.246-6.71-16.456-1.08-9.622 1.793-20.501 10.003-30.707.416-.5.876-1 1.416-1.416L249.366 2.303c3.081-2.833 7.834-3.13 11.247-.456L498.886 187.08c.377.288.713.585 1.04.961 11.043 11.87 13.796 25.037 11.127 36.164a33.734 33.734 0 01-7.582 14.495 32.911 32.911 0 01-13.494 9.126c-8.339 2.996-18.253 2.917-28.295-1.837v193.399l-23.333.005v-203.65c0-4.209-163.441-133.406-181.485-147.445-19.12 14.539-185.566 142.696-185.566 148.109v203.57l-23.329-.084zm213.816-253.8h28.508a2.38 2.38 0 012.368 2.368v24.121a2.388 2.388 0 01-2.368 2.368h-28.508a2.38 2.38 0 01-2.368-2.368v-24.121a2.371 2.371 0 012.368-2.368zm-40.076 0h28.507a2.38 2.38 0 012.368 2.368v24.121a2.388 2.388 0 01-2.368 2.368h-28.507a2.379 2.379 0 01-2.368-2.368v-24.121a2.37 2.37 0 012.368-2.368zm40.076-35.456h28.508a2.38 2.38 0 012.368 2.368v24.121a2.388 2.388 0 01-2.368 2.368h-28.508a2.38 2.38 0 01-2.368-2.368v-24.121a2.371 2.371 0 012.368-2.368zm-40.076 0h28.507a2.385 2.385 0 012.368 2.368v24.121c0 1.284-1.084 2.368-2.368 2.368h-28.507a2.385 2.385 0 01-2.368-2.368v-24.121a2.37 2.37 0 012.368-2.368zM154.147 392.23c.27-47.733.54-87.252.81-134.795a6.586 6.586 0 015.249-6.422l-.004-.009c32.468-6.776 75.059.376 96.14 28.392 22.213-27.25 63.171-33.278 96.095-28.467a6.607 6.607 0 015.648 6.532c.013 0 .008 124.276.008 135.353a6.613 6.613 0 01-8.143 6.436c-14.469-2.28-34.651-.39-48.327 4.496-11.016 3.931-21.838 9.808-32.504 17.018 14.601-4.581 29.189-6.475 43.777-6.382 16.885.106 39.798 2.859 56.501 7.165 0-50.079-.004-91.966-.004-142.036h6.616a6.614 6.614 0 016.617 6.612V430.2a6.614 6.614 0 01-8.745 6.263c-18.443-5.28-42.905-8.794-61.034-8.91-17.677-.11-35.363 2.992-53.093 10.831a6.664 6.664 0 01-3.758 1.097 6.662 6.662 0 01-3.753-1.097c-17.73-7.839-35.416-10.941-53.093-10.831-18.124.116-42.591 3.63-61.033 8.91a6.653 6.653 0 01-2.134.35 6.613 6.613 0 01-6.612-6.613V286.123a6.613 6.613 0 016.612-6.612h6.617v142.036c16.708-4.306 39.616-7.059 56.501-7.165 15.593-.102 31.185 2.071 46.796 7.365-9.711-7.874-20.537-13.637-32.08-17.403-14.543-4.749-36.438-6.325-52.54-4.944a6.608 6.608 0 01-7.13-6.045 6.816 6.816 0 010-1.125zm190.722-128.914c-29.167-2.752-65.327 3.032-82.154 29.84v115.986c11.224-7.493 22.687-13.641 34.464-17.846 13.429-4.793 33.398-7.059 47.69-5.922V263.316zM249.49 407.871V292.957c-15.526-27.352-52.651-34.057-81.388-29.95l-.743 122.784c15.309-.545 36.451 1.403 50.539 6.001 11.224 3.656 21.847 8.994 31.592 16.079zM462.182 21.409v92.931l-71.536-47.206V21.409h71.536z" /></svg>
        </span>
        <!--end::Svg Icon-->
        <div class="d-flex flex-column pe-0 pe-sm-10">
            <h5 class="mb-1">@(Model.Id > 0 ? "Edit" : "Create") Book</h5>
        </div>
        <!--end::Content-->
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-body">
        <form asp-controller="Books" method="post" enctype="multipart/form-data">
            @if (Model.Id > 0)
            {
                <input type="hidden" asp-for="Id" />
            }
            <!--begin::Image input-->
            <div class="image-input image-input-empty mb-6" data-kt-image-input="true" style="background-image: url(/Images/@(string.IsNullOrEmpty(Model.ImageUrl)?"image-placeholder.jpg":$"Books/{Model.ImageUrl}"))">
                <!--begin::Image preview wrapper-->
                <div class="image-input-wrapper w-125px h-200px"></div>
                <!--end::Image preview wrapper-->
                <!--begin::Edit button-->
                <label class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                       data-kt-image-input-action="change"
                       data-bs-dismiss="click">
                    <i class="bi bi-pen-fill "></i>
                    <!--begin::Inputs-->
                    <input type="file" asp-for="Image" accept=".png, .jpg, .jpeg" />
                    <input type="hidden" name="avatar_remove" />
                    <!--end::Inputs-->
                </label>
                <!--end::Edit button-->
                <!--begin::Cancel button-->
                <span class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                      data-kt-image-input-action="cancel"
                      data-bs-dismiss="click">
                    <i class="bi bi-x-circle"></i>
                </span>
                <!--end::Cancel button-->
                <!--begin::Remove button-->
                <span class="btn btn-icon btn-circle btn-color-muted btn-active-color-primary w-25px h-25px bg-body shadow"
                      data-kt-image-input-action="remove"
                      data-bs-dismiss="click">
                    <i class="bi bi-x-circle"></i>
                </span>
                <!--end::Remove button-->
                <span asp-validation-for="Image" class="text-danger"></span>
            </div>
            <!--end::Image input-->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-7">
                        <input type="text" class="form-control" asp-for="Title" placeholder="Title" />
                        <label asp-for="Title"></label>
                        <span asp-validation-for="Title" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-7">
                        <select class="form-select form-select-solid" data-control="select2" asp-for="AuthorId" asp-items="@Model.Authors" data-placeholder="Select Author">
                            <option></option>
                        </select>
                        <label asp-for="AuthorId"></label>
                        <span asp-validation-for="AuthorId" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-7">
                        <select class="form-select form-select-solid" asp-for="SelectedCategories" asp-items="@Model.Categories" data-control="select2" data-close-on-select="false" data-placeholder="Select Categories" data-allow-clear="true" multiple="multiple">
                            <option></option>
                        </select>
                        <label asp-for="SelectedCategories"></label>
                        <span asp-validation-for="SelectedCategories" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-7">
                        <input type="text" class="form-control" asp-for="Publisher" placeholder="Publisher" />
                        <label asp-for="Publisher"></label>
                        <span asp-validation-for="Publisher" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-7">
                        <input type="date" class="form-control" asp-for="PublishingDate" placeholder="Publishing Date" />
                        <label asp-for="PublishingDate"></label>
                        <span asp-validation-for="PublishingDate" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-7">
                        <input type="text" class="form-control" asp-for="Hall" placeholder="Hall" />
                        <label asp-for="Hall"></label>
                        <span asp-validation-for="Hall" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-7">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" asp-for="IsAvilableForRental">
                            <label class="form-check-label" asp-for="IsAvilableForRental">
                                IsAvilableForRental
                            </label>
                        </div>
                        <span asp-validation-for="IsAvilableForRental" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-floating mb-2">
                        <textarea class="form-control" asp-for="Description" rows="8"></textarea>
                        <label asp-for="Description"></label>
                        <span asp-validation-for="Description" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div>
                <button type="submit" class="btn btn-outline btn-outline-dashed btn-outline-primary btn-active-light-primary">
                    @if (Model.Id == 0)
                    {
                        <i class="bi bi-patch-plus-fill"></i>
                    }
                    else
                    {
                        <i class="bi bi-pencil-fill"></i>
                    }
                    Save
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts{
    <partial name="_ValidationScriptsPartial" />
}